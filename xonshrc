import subprocess


def git_state():
    try:
        state = subprocess.check_output(
            'git status --porcelain 2> /dev/null',
            shell=True
        )
        if state:
            return $FORMATTER_DICT['BOLD_RED']
    except subprocess.CalledProcessError:
        pass
    return $FORMATTER_DICT['BLUE']


$FORMATTER_DICT['pwd'] = lambda: $PWD.split('/')[-1]
$FORMATTER_DICT['git_state'] = git_state
$PROMPT = ' {GREEN}{pwd}{git_state}{curr_branch} {WHITE}>> {NO_COLOR}'
